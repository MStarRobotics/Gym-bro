[{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/app/disputes/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/app/revenue/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/app/users/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/admin-panel/tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/app/clients/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/app/meal-plans/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/apps/nutritionist-panel/tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/morningstar/Downloads/fitai_-your-personal-fitness-coach/gymgenius-monorepo/packages/backend/socketio/server.js","messages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":47,"column":1,"nodeType":"MemberExpression","messageId":"unexpected","endLine":47,"endColumn":12,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1286,1327],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":72,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":72,"endColumn":14,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1890,1945],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":80,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":80,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2124,2191],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":86,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":86,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2300,2365],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":153,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":153,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3938,4028],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":169,"column":1,"nodeType":"MemberExpression","messageId":"unexpected","endLine":169,"endColumn":12,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[4296,4385],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":175,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":175,"endColumn":14,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[4446,4497],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createAdapter } from '@socket.io/redis-adapter';\nimport dotenv from 'dotenv';\nimport * as admin from 'firebase-admin';\nimport fs from 'node:fs';\nimport { createClient } from 'redis';\nimport { Server } from 'socket.io';\n\ndotenv.config({ path: '../.env' });\n\n// Initialize Firebase Admin\nconst serviceAccountPath = process.env.FIREBASE_SERVICE_ACCOUNT_PATH;\nif (serviceAccountPath) {\n  try {\n    const credentials = fs.readFileSync(serviceAccountPath, 'utf8');\n    const serviceAccount = JSON.parse(credentials);\n    admin.initializeApp({\n      credential: admin.credential.cert(serviceAccount),\n    });\n  } catch (err) {\n    console.warn(\n      'Unable to initialize Firebase Admin with provided service account path:',\n      err.message\n    );\n  }\n}\n\n// Initialize Socket.io server\nconst io = new Server(\n  Number.parseInt(process.env.SOCKETIO_PORT || '3001', 10),\n  {\n    cors: {\n      origin: process.env.SOCKETIO_CORS_ORIGINS?.split(',') || [\n        'http://localhost:3000',\n      ],\n      credentials: true,\n    },\n  }\n);\n\n// Redis adapter for horizontal scaling\nconst pubClient = createClient({ url: process.env.REDIS_URL });\nconst subClient = pubClient.duplicate();\n\nawait pubClient.connect();\nawait subClient.connect();\nio.adapter(createAdapter(pubClient, subClient));\nconsole.log('Redis adapter initialized');\n\n// Authentication middleware\nio.use(async (socket, next) => {\n  const token = socket.handshake.auth.token;\n\n  if (!token) {\n    return next(new Error('Authentication token required'));\n  }\n\n  try {\n    const decodedToken = await admin.auth().verifyIdToken(token);\n    socket.data.user = {\n      uid: decodedToken.uid,\n      email: decodedToken.email,\n    };\n    next();\n  } catch (error) {\n    console.error('Authentication error:', error);\n    next(new Error('Invalid authentication token'));\n  }\n});\n\n// Connection handler\nio.on('connection', (socket) => {\n  console.log(`User connected: ${socket.data.user.uid}`);\n\n  // Join user's personal room\n  socket.join(`user:${socket.data.user.uid}`);\n\n  // Join chat room\n  socket.on('join_chat', (chatId) => {\n    socket.join(`chat:${chatId}`);\n    console.log(`User ${socket.data.user.uid} joined chat: ${chatId}`);\n  });\n\n  // Leave chat room\n  socket.on('leave_chat', (chatId) => {\n    socket.leave(`chat:${chatId}`);\n    console.log(`User ${socket.data.user.uid} left chat: ${chatId}`);\n  });\n\n  // Send message\n  socket.on('send_message', (data) => {\n    const { chatId, message, timestamp } = data;\n\n    // Broadcast to chat room\n    io.to(`chat:${chatId}`).emit('new_message', {\n      chatId,\n      message,\n      sender: socket.data.user,\n      timestamp,\n    });\n  });\n\n  // Typing indicator\n  socket.on('typing_start', (chatId) => {\n    socket.to(`chat:${chatId}`).emit('user_typing', {\n      chatId,\n      user: socket.data.user,\n    });\n  });\n\n  socket.on('typing_stop', (chatId) => {\n    socket.to(`chat:${chatId}`).emit('user_stopped_typing', {\n      chatId,\n      user: socket.data.user,\n    });\n  });\n\n  // Workout tracking events\n  socket.on('workout_started', (data) => {\n    const { workoutId, timestamp } = data;\n\n    // Notify trainers/nutritionists monitoring this user\n    io.to(`user:${socket.data.user.uid}`).emit('workout_status', {\n      status: 'started',\n      workoutId,\n      timestamp,\n    });\n  });\n\n  socket.on('workout_completed', (data) => {\n    const { workoutId, duration, caloriesBurned, timestamp } = data;\n\n    io.to(`user:${socket.data.user.uid}`).emit('workout_status', {\n      status: 'completed',\n      workoutId,\n      duration,\n      caloriesBurned,\n      timestamp,\n    });\n  });\n\n  // Real-time notifications\n  socket.on('notification', (data) => {\n    const { targetUserId, notification } = data;\n\n    io.to(`user:${targetUserId}`).emit('notification_received', {\n      ...notification,\n      timestamp: new Date().toISOString(),\n    });\n  });\n\n  // Disconnect handler\n  socket.on('disconnect', (reason) => {\n    console.log(\n      `User disconnected: ${socket.data.user.uid} - Reason: ${reason}`\n    );\n  });\n\n  // Error handler\n  socket.on('error', (error) => {\n    console.error(`Socket error for user ${socket.data.user.uid}:`, error);\n  });\n});\n\n// Global error handler\nio.engine.on('connection_error', (error) => {\n  console.error('Connection error:', error);\n});\n\nconsole.log(\n  `Socket.io server running on port ${process.env.SOCKETIO_PORT || 3001}`\n);\n\n// Graceful shutdown\nprocess.on('SIGTERM', async () => {\n  console.log('SIGTERM received, closing server...');\n  await Promise.all([io.close(), pubClient.quit(), subClient.quit()]);\n  process.exit(0);\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]